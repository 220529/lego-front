http {
    # 启用 gzip 压缩
    gzip on;
    # 压缩的文件类型
    gzip_types text/plain application/javascript application/x-javascript text/javascript text/css application/xml text/xml application/json;
    # 启用静态文件压缩
    gzip_static on;

    server {
        listen       80;
        listen  [::]:80;

        location / {
            root /var/www/html;
            index index.html index.htm;
            try_files $uri $uri/ /index.html;
        }

        location /api {
            proxy_pass  http://lego.api.liukaixin.online;
            proxy_redirect     off;
            proxy_set_header   Host             $host;
            proxy_set_header   X-Real-IP        $remote_addr;
            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
    }
}
